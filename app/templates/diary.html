{% extends 'base.html' %} {% block app_content %}{% block styles %} {{super()}}
<link rel="stylesheet" href="{{url_for('.static', filename='diary.css')}}">
<link href="https://use.fontawesome.com/releases/v5.0.11/css/all.css" rel="stylesheet"> {% endblock %}

<div id="page-wrapper">
    <div class="container-fluid date-selectors">
        <div class="row">
            <form method="post">
                <div class="input-group">
                    {{ form.hidden_tag() }}
                    <span class="input-group-btn">
                        <button type="submit" class="btn btn-light custom_buttons" name="action" value="back">
                            <i class="far fa-arrow-alt-circle-left fa-3x"></i>
                        </button>
                    </span>
                    {{ form2.date(readonly=true, class_="text-center form-control") }}
                    <span class="input-group-btn">
                        <button type="submit" class="btn btn-light custom_buttons" name="action" value="forward">
                            <i class="far fa-arrow-alt-circle-right fa-3x"></i>
                        </button>
                    </span>
                </div>
            </form>
        </div>
        <div class="clearfix"></div>
    </div>

    <div class="container-fluid main-content-fluid">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th class="col-xs-6 meal-name-header">
                        <span>Breakfast </span>
                        <a href="{{ url_for('search', date=date_pick, meal='Breakfast') }}">
                            <i class="far fa-plus-square add-food-button fa-2x"></i>
                        </a>
                    </th>
                    <th class="text-center col-sm-1 col-xs-2">Count</th>
                    <th class="text-center col-sm-1 col-xs-2">kcal</th>
                    <th class="text-center hidden-xs col-sm-1">Protein</th>
                    <th class="text-center hidden-xs col-sm-1">Fat</th>
                    <th class="text-center hidden-xs col-sm-1">Carbs</th>
                    <th class="text-center col-sm-1 col-xs-2"></th>
                </tr>
            </thead>
            {% for food in foods %} {% if food.meal == "Breakfast" %}
            <tr class="food-rows">
                <td>
                    <a href="{{ url_for('get_nutrition', ndbno=food.ndbno) }}">
                        {{ food.food_name + ", " + food.unit}}
                    </a>
                </td>
                <td class="text-center">{{ food.count }}</td>
                <td class="text-center">{{ food.kcal }} kcal</td>
                <td class="text-center hidden-xs">{{ food.protein }}g</td>
                <td class="text-center hidden-xs">{{ food.fat }}g</td>
                <td class="text-center hidden-xs">{{ food.carbs }}g</td>
                <td class="text-center">
                    <form method='post'>
                        {{ form.entry_id(value=food.id) }} {{ form.hidden_tag() }}
                        <button type="submit" class="btn btn-light remove-buttons" name="action" value="remove">
                            <i class="fa fa-times fa-lg"></i>
                        </button>
                    </form>
                </td>
            </tr>
            {% endif %} {% endfor %}
            <tr class="active">
                <td class="hidden-xs">
                    <span>Quick Add</span>
                    <span> | </span>
                    <span>
                        <a href="{{ url_for('search', date=date_pick, meal='Breakfast') }}">Add food</a>
                    </span>
                    <span> | </span>
                    <span>Copy To</span>
                </td>
                <td class="hidden-sm hidden-md hidden-lg" colspan=4>
                    <a class="btn btn-primary pull-left" href="{{ url_for('search', date=date_pick, meal='Breakfast') }}">Add food</a>
                    <div class="dropdown pull-right">
                        <button class="ellipsis_buttons dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">
                            <i class="fa fa-ellipsis-h fa-2x"></i>
                        </button>
                        <ul class="dropdown-menu text-right" aria-labelledby="dropdownMenuButton">
                            <li>
                                <a class="dropdown-item" href="#">Quick Add</a>
                            </li>
                            <li role="separator" class="divider"></li>
                            <li>
                                <a class="dropdown-item" href="#">Copy To</a>
                            </li>
                        </ul>
                    </div>
                </td>
                <td class="text-center hidden-xs"></td>
                <td class="text-center hidden-xs">{{ total_cals['Breakfast'] }} kcal</td>
                <td class="text-center hidden-xs">{{ total_protein['Breakfast'] }}g</td>
                <td class="text-center hidden-xs">{{ total_fat['Breakfast'] }}g</td>
                <td class="text-center hidden-xs">{{ total_carbs['Breakfast'] }}g</td>
            </tr>
        </table>
        <br/>

        <table class="table table-hover">
            <thead>
                <tr>
                    <th class="col-xs-6 meal-name-header">
                        <span>Lunch </span>
                        <a href="{{ url_for('search', date=date_pick, meal='Lunch') }}">
                            <i class="far fa-plus-square add-food-button fa-2x"></i>
                        </a>
                    </th>
                    <th class="text-center col-sm-1 col-xs-2"></th>
                    <th class="text-center col-sm-1 col-xs-2"></th>
                    <th class="text-center hidden-xs col-sm-1"></th>
                    <th class="text-center hidden-xs col-sm-1"></th>
                    <th class="text-center hidden-xs col-sm-1"></th>
                    <th class="text-center col-sm-1 col-xs-2"></th>
                </tr>
            </thead>
            {% for food in foods %} {% if food.meal == "Lunch" %}
            <tr class="food-rows">
                <td>
                    <a href="{{ url_for('get_nutrition', ndbno=food.ndbno) }}">{{ food.food_name + ", " + food.unit }}</a>
                </td>
                <td class="text-center">{{ food.count }}</td>
                <td class="text-center">{{ food.kcal }} kcal</td>
                <td class="text-center hidden-xs">{{ food.protein }}g</td>
                <td class="text-center hidden-xs">{{ food.fat }}g</td>
                <td class="text-center hidden-xs">{{ food.carbs }}g</td>
                <td class="text-center">
                    <form method='post'>
                        {{ form.entry_id(value=food.id) }} {{ form.hidden_tag() }}
                        <button type="submit" class="btn btn-light remove-buttons" name="action" value="remove">
                            <i class="fa fa-times fa-lg"></i>
                        </button>
                    </form>
                </td>
            </tr>
            {% endif %} {% endfor %}
            <tr class="active">
                <td class="hidden-xs">
                    <span>Quick Add</span>
                    <span> | </span>
                    <span>
                        <a href="{{ url_for('search', date=date_pick, meal='Lunch') }}">Add food</a>
                    </span>
                    <span> | </span>
                    <span>Copy To</span>
                </td>
                <td class="hidden-sm hidden-md hidden-lg" colspan=4>
                    <a class="btn btn-primary pull-left" href="{{ url_for('search', date=date_pick, meal='Lunch') }}">Add food</a>
                    <div class="dropdown pull-right">
                        <button class="ellipsis_buttons dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">
                            <i class="fa fa-ellipsis-h fa-2x"></i>
                        </button>
                        <ul class="dropdown-menu text-right" aria-labelledby="dropdownMenuButton">
                            <li>
                                <a class="dropdown-item" href="#">Quick Add</a>
                            </li>
                            <li role="separator" class="divider"></li>
                            <li>
                                <a class="dropdown-item" href="#">Copy To</a>
                            </li>
                        </ul>
                    </div>
                </td>
                <td class="text-center hidden-xs"></td>
                <td class="text-center hidden-xs">{{ total_cals['Lunch'] }} kcal</td>
                <td class="text-center hidden-xs">{{ total_protein['Lunch'] }}g</td>
                <td class="text-center hidden-xs">{{ total_fat['Lunch'] }}g</td>
                <td class="text-center hidden-xs">{{ total_carbs['Lunch'] }}g</td>
            </tr>
        </table>

        <br/>

        <table class="table table-hover">
            <thead>
                <tr>
                    <th class="col-xs-6 meal-name-header">
                        <span>Dinner </span>
                        <a href="{{ url_for('search', date=date_pick, meal='Dinner') }}">
                            <i class="far fa-plus-square add-food-button fa-2x"></i>
                        </a>
                    </th>
                    <th class="text-center col-sm-1 col-xs-2"></th>
                    <th class="text-center col-sm-1 col-xs-2"></th>
                    <th class="text-center hidden-xs col-sm-1"></th>
                    <th class="text-center hidden-xs col-sm-1"></th>
                    <th class="text-center hidden-xs col-sm-1"></th>
                    <th class="text-center col-sm-1 col-xs-2"></th>
                </tr>
            </thead>
            {% for food in foods %} {% if food.meal == "Dinner" %}
            <tr class="food-rows">
                <td>
                    <a href="{{ url_for('get_nutrition', ndbno=food.ndbno) }}">{{ food.food_name + ", " + food.unit }}</a>
                </td>
                <td class="text-center">{{ food.count }}</td>
                <td class="text-center">{{ food.kcal }} kcal</td>
                <td class="text-center hidden-xs">{{ food.protein }}g</td>
                <td class="text-center hidden-xs">{{ food.fat }}g</td>
                <td class="text-center hidden-xs">{{ food.carbs }}g</td>
                <td class="text-center">
                    <form method='post'>
                        {{ form.entry_id(value=food.id) }} {{ form.hidden_tag() }}
                        <button type="submit" class="btn btn-light remove-buttons" name="action" value="remove">
                            <i class="fa fa-times fa-lg"></i>
                        </button>
                    </form>
                </td>
            </tr>
            {% endif %} {% endfor %}
            <tr class="active">
                <td class="hidden-xs">
                    <span>Quick Add</span>
                    <span> | </span>
                    <span>
                        <a href="{{ url_for('search', date=date_pick, meal='Dinner') }}">Add food</a>
                    </span>
                    <span> | </span>
                    <span>Copy To</span>
                </td>
                <td class="hidden-sm hidden-md hidden-lg" colspan=4>
                    <a class="btn btn-primary pull-left" href="{{ url_for('search', date=date_pick, meal='Dinner') }}">Add food</a>
                    <div class="dropdown pull-right">
                        <button class="ellipsis_buttons dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">
                            <i class="fa fa-ellipsis-h fa-2x"></i>
                        </button>
                        <ul class="dropdown-menu text-right" aria-labelledby="dropdownMenuButton">
                            <li>
                                <a class="dropdown-item" href="#">Quick Add</a>
                            </li>
                            <li role="separator" class="divider"></li>
                            <li>
                                <a class="dropdown-item" href="#">Copy To</a>
                            </li>
                        </ul>
                    </div>
                </td>
                <td class="text-center hidden-xs"></td>
                <td class="text-center hidden-xs">{{ total_cals['Dinner'] }} kcal</td>
                <td class="text-center hidden-xs">{{ total_protein['Dinner'] }}g</td>
                <td class="text-center hidden-xs">{{ total_fat['Dinner'] }}g</td>
                <td class="text-center hidden-xs">{{ total_carbs['Dinner'] }}g</td>
            </tr>
        </table>

        <br/>

        <table class="table table-hover">
            <thead>
                <tr>
                    <th class="col-xs-6 meal-name-header">
                        <span>Snacks </span>
                        <a href="{{ url_for('search', date=date_pick, meal='Snacks') }}">
                            <i class="far fa-plus-square add-food-button fa-2x"></i>
                        </a>
                    </th>
                    <th class="text-center col-sm-1 col-xs-2"></th>
                    <th class="text-center col-sm-1 col-xs-2"></th>
                    <th class="text-center hidden-xs col-sm-1"></th>
                    <th class="text-center hidden-xs col-sm-1"></th>
                    <th class="text-center hidden-xs col-sm-1"></th>
                    <th class="text-center col-sm-1 col-xs-2"></th>
                </tr>
            </thead>
            {% for food in foods %} {% if food.meal == "Snacks" %}
            <tr class="food-rows">
                <td>
                    <a href="{{ url_for('get_nutrition', ndbno=food.ndbno) }}">{{ food.food_name + ", " + food.unit }}</a>
                </td>
                <td class="text-center">{{ food.count }}</td>
                <td class="text-center">{{ food.kcal }} kcal</td>
                <td class="text-center hidden-xs">{{ food.protein }}g</td>
                <td class="text-center hidden-xs">{{ food.fat }}g</td>
                <td class="text-center hidden-xs">{{ food.carbs }}g</td>
                <td class="text-center">
                    <form method='post'>
                        {{ form.entry_id(value=food.id) }} {{ form.hidden_tag() }}
                        <button type="submit" class="btn btn-light remove-buttons" name="action" value="remove">
                            <i class="fa fa-times fa-lg"></i>
                        </button>
                    </form>
                </td>
            </tr>
            {% endif %} {% endfor %}
            <tr class="active">
                <td class="hidden-xs">
                    <span>Quick Add</span>
                    <span> | </span>
                    <span>
                        <a href="{{ url_for('search', date=date_pick, meal='Snacks') }}">Add food</a>
                    </span>
                    <span> | </span>
                    <span>Copy To</span>
                </td>
                <td class="hidden-sm hidden-md hidden-lg" colspan=4>
                    <a class="btn btn-primary pull-left" href="{{ url_for('search', date=date_pick, meal='Snacks') }}">Add food</a>
                    <div class="dropdown pull-right">
                        <button class="ellipsis_buttons dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">
                            <i class="fa fa-ellipsis-h fa-2x"></i>
                        </button>
                        <ul class="dropdown-menu text-right" aria-labelledby="dropdownMenuButton">
                            <li>
                                <a class="dropdown-item" href="#">Quick Add</a>
                            </li>
                            <li role="separator" class="divider"></li>
                            <li>
                                <a class="dropdown-item" href="#">Copy To</a>
                            </li>
                        </ul>
                    </div>
                </td>
                <td class="text-center hidden-xs"></td>
                <td class="text-center hidden-xs">{{ total_cals['Snacks'] }} kcal</td>
                <td class="text-center hidden-xs">{{ total_protein['Snacks'] }}g</td>
                <td class="text-center hidden-xs">{{ total_fat['Snacks'] }}g</td>
                <td class="text-center hidden-xs">{{ total_carbs['Snacks'] }}g</td>
            </tr>
        </table>

        <br/>
        <div style="padding: 0px" class="col-sm-6 col-sm-offset-5">
            <table class="table table-condensed table-bordered">
                <thead>
                    <tr class="active">
                        <th class="text-right col-sm-4">Totals</th>
                        <th class="text-center col-sm-2">kcal</th>
                        <th class="text-center col-sm-2">Protein</th>
                        <th class="text-center col-sm-2">Fat</th>
                        <th class="text-center col-sm-2">Carbs</th>
                    </tr>
                </thead>
                <tr>
                    <td class="text-right">Start Macros</td>
                    <td class="text-center">{{ user.calories_goal }}</td>
                    <td class="text-center">{{ user.protein_grams }}</td>
                    <td class="text-center">{{ user.fat_grams }}</td>
                    <td class="text-center">{{ user.carbs_grams }}</td>
                </tr>
                <tr>
                    <td class="text-right">Consumed</td>
                    <td class="text-center">{{ total_cals['total'] }}</td>
                    <td class="text-center">{{ total_protein['total'] }}</td>
                    <td class="text-center">{{ total_fat['total'] }}</td>
                    <td class="text-center">{{ total_carbs['total'] }}</td>
                </tr>
                <tr>
                    <td class="text-right">Remaining</td>
                    <td class="text-center">{{ user.calories_goal - total_cals['total'] }}</td>
                    <td class="text-center">{{ user.protein_grams - total_protein['total'] }}</td>
                    <td class="text-center">{{ user.fat_grams - total_fat['total'] }}</td>
                    <td class="text-center">{{ user.carbs_grams - total_carbs['total'] }}</td>
                </tr>
            </table>
        </div>
    </div>
</div>
{% endblock %}