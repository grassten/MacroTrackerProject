{% extends 'base.html' %}

{% block styles %}
{{super()}}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
{% endblock %}

{% block content %}
<div class="container">
    <div class="jumbotron">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th style="width: 30%">Breakfast</th>
                    <th class="text-center">kcal</th>
                    <th class="text-center">Protein</th>
                    <th class="text-center">Fat</th>
                    <th class="text-center">Carbs</th>
                    <th class="text-center">Remove</th>
                </tr>
            </thead>
            {% for food in foods %}
            {% if food.meal == "Breakfast" %}
            <tr>
                <td><a href="{{ url_for('get_nutrition', ndbno=food.ndbno) }}">{{ food.food_name }}</a></td>
                <td class="text-center">{{ food.kcal }}</td>
                <td class="text-center">{{ food.protein }}</td>
                <td class="text-center">{{ food.fat }}</td>
                <td class="text-center">{{ food.carbs }}</td>
                <td class="text-center">
                    <form method='post'>
                        <!--{{ form.hidden_tag() }}-->
                        {{ form.entry_id(value=food.id) }}
                        {{ form.remove() }}
                    </form>
                </td>
            </tr>
            {% endif %}
            {% endfor %}
            <tr>
                <td style="text-align: right;">Total</td>
            </tr>
        </table>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th style="width: 30%">Lunch</th>
                    <th class="text-center">kcal</th>
                    <th class="text-center">Protein</th>
                    <th class="text-center">Fat</th>
                    <th class="text-center">Carbs</th>
                    <th class="text-center">Remove</th>
                </tr>
            </thead>
            {% for food in foods %}
            {% if food.meal == "Lunch" %}
            <tr>
                <td><a href="{{ url_for('get_nutrition', ndbno=food.ndbno) }}">{{ food.food_name }}</a></td>
                <td class="text-center">{{ food.kcal }}</td>
                <td class="text-center">{{ food.protein }}</td>
                <td class="text-center">{{ food.fat }}</td>
                <td class="text-center">{{ food.carbs }}</td>
                <td class="text-center">
                    <form method='post'>
                        <!--{{ form.hidden_tag() }}-->
                        {{ form.entry_id(value=food.id) }}
                        {{ form.remove() }}
                    </form>
                </td>
            </tr>
            {% endif %}
            {% endfor %}
            <tr>
                <td style="text-align: right;">Total</td>
            </tr>
        </table>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th style="width: 30%">Dinner</th>
                    <th class="text-center">kcal</th>
                    <th class="text-center">Protein</th>
                    <th class="text-center">Fat</th>
                    <th class="text-center">Carbs</th>
                    <th class="text-center">Remove</th>
                </tr>
            </thead>
            {% for food in foods %}
            {% if food.meal == "Dinner" %}
            <tr>
                <td><a href="{{ url_for('get_nutrition', ndbno=food.ndbno) }}">{{ food.food_name }}</a></td>
                <td class="text-center">{{ food.kcal }}</td>
                <td class="text-center">{{ food.protein }}</td>
                <td class="text-center">{{ food.fat }}</td>
                <td class="text-center">{{ food.carbs }}</td>
                <td class="text-center">
                    <form method='post'>
                        <!--{{ form.hidden_tag() }}-->
                        {{ form.entry_id(value=food.id) }}
                        {{ form.remove() }}
                    </form>
                </td>
            </tr>
            {% endif %}
            {% endfor %}
            <tr>
                <td style="text-align: right;">Total</td>
            </tr>
        </table>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th style="width: 30%">Snacks</th>
                    <th class="text-center">kcal</th>
                    <th class="text-center">Protein</th>
                    <th class="text-center">Fat</th>
                    <th class="text-center">Carbs</th>
                    <th class="text-center">Remove</th>
                </tr>
            </thead>
            {% for food in foods %}
            {% if food.meal == "Snacks" %}
            <tr>
                <td><a href="{{ url_for('get_nutrition', ndbno=food.ndbno) }}">{{ food.food_name }}</a></td>
                <td class="text-center">{{ food.kcal }}</td>
                <td class="text-center">{{ food.protein }}</td>
                <td class="text-center">{{ food.fat }}</td>
                <td class="text-center">{{ food.carbs }}</td>
                <td class="text-center">
                    <form method='post'>
                        <!--{{ form.hidden_tag() }}-->
                        {{ form.entry_id(value=food.id) }}
                        {{ form.remove() }}
                    </form>
                </td>
            </tr>
            {% endif %}
            {% endfor %}
            <tr>
                <td style="text-align: right;">Total</td>
            </tr>
        </table>
        <table class="table">
            <thead>
                <tr>
                    <th style="width: 30%">Totals</th>
                    <th class="text-center">kcal</th>
                    <th class="text-center">Protein</th>
                    <th class="text-center">Fat</th>
                    <th class="text-center">Carbs</th>
                    <th></th>
                </tr>
            </thead>
            <tr>
                <td></td>
                <td class="text-center">{{ total_cals }}</td>
                <td class="text-center">{{ total_protein }}</td>
                <td class="text-center">{{ total_fat }}</td>
                <td class="text-center">{{ total_carbs }}</td>
                <td></td>
            </tr>
        </table>
    </div>
</div>
{% endblock %}
