{% extends 'base.html' %} {% block app_content %}{% block styles %} {{super()}}
<link rel="stylesheet" href="{{url_for('.static', filename='diary.css')}}"> {% endblock %}
<div class="container">
    <h2 class='text-center'>Food Diary</h2>
    <hr/>
    <br/>
    <div class="row">
        <form class="form-inline text-center" method="post">
            {{ form.hidden_tag() }}
            <button type="submit" class="btn btn-light custom_buttons" name="action" value="back">
                <i style="color: dodgerblue" class="fas fa-arrow-circle-left fa-2x"></i>
            </button>
            {{ form2.date(readonly=true, class="text-center form-control") }}
            <button type="submit" class="btn btn-light custom_buttons" name="action" value="forward">
                <i style="color: dodgerblue" class="fas fa-arrow-circle-right fa-2x"></i>
            </button>
        </form>
    </div>
    <div class="clearfix"></div>
    <br/>
    <table class="table table-condensed table-bordered">
        <thead>
            <tr>
                <th class="col-xs-6">Breakfast |
                    <a href="{{ url_for('search', date=date_pick, meal='Breakfast') }}">Add food.</a>
                </th>
                <th class="text-center col-sm-1 col-xs-2">Count</th>
                <th class="text-center col-sm-1 col-xs-2">kcal</th>
                <th class="text-center hidden-xs col-sm-1">Protein</th>
                <th class="text-center hidden-xs col-sm-1">Fat</th>
                <th class="text-center hidden-xs col-sm-1">Carbs</th>
                <th class="text-center col-sm-1 col-xs-2">Remove</th>
            </tr>
        </thead>
        {% for food in foods %} {% if food.meal == "Breakfast" %}
        <tr>
            <td>
                <a href="{{ url_for('get_nutrition', ndbno=food.ndbno) }}">
                    {{ food.food_name + ", " + food.unit}}
                </a>
            </td>
            <td class="text-center">{{ food.count }}</td>
            <td class="text-center">{{ food.kcal }}</td>
            <td class="text-center hidden-xs">{{ food.protein }}</td>
            <td class="text-center hidden-xs">{{ food.fat }}</td>
            <td class="text-center hidden-xs">{{ food.carbs }}</td>
            <td class="text-center">
                <form method='post'>
                    {{ form.entry_id(value=food.id) }} {{ form.hidden_tag() }}
                    <button type="submit" class="btn btn-light custom_buttons" name="action" value="remove">
                        <i style="color:red" class="fa fa-remove fa-lg"></i>
                    </button>
                </form>
            </td>
        </tr>
        {% endif %} {% endfor %}
        <tr class="active">
            <td class="text-right hidden-xs">Meal Totals</td>
            <td class="text-center hidden-xs"></td>
            <td class="text-center hidden-xs">{{ total_cals['Breakfast'] }}</td>
            <td class="text-center hidden-xs">{{ total_protein['Breakfast'] }}</td>
            <td class="text-center hidden-xs">{{ total_fat['Breakfast'] }}</td>
            <td class="text-center hidden-xs">{{ total_carbs['Breakfast'] }}</td>
        </tr>
    </table>

    <br/>

    <table class="table table-condensed table-bordered">
        <thead>
            <tr>
                <th class="col-xs-6">Lunch |
                    <a href="{{ url_for('search', date=date_pick, meal='Lunch') }}">Add food.</a>
                </th>
                <th class="text-center col-sm-1 col-xs-2">Count</th>
                <th class="text-center col-sm-1 col-xs-2">kcal</th>
                <th class="text-center hidden-xs col-sm-1">Protein</th>
                <th class="text-center hidden-xs col-sm-1">Fat</th>
                <th class="text-center hidden-xs col-sm-1">Carbs</th>
                <th class="text-center col-sm-1 col-xs-2">Remove</th>
            </tr>
        </thead>
        {% for food in foods %} {% if food.meal == "Lunch" %}
        <tr>
            <td>
                <a href="{{ url_for('get_nutrition', ndbno=food.ndbno) }}">{{ food.food_name + ", " + food.unit }}</a>
            </td>
            <td class="text-center">{{ food.count }}</td>
            <td class="text-center">{{ food.kcal }}</td>
            <td class="text-center hidden-xs">{{ food.protein }}</td>
            <td class="text-center hidden-xs">{{ food.fat }}</td>
            <td class="text-center hidden-xs">{{ food.carbs }}</td>
            <td class="text-center">
                <form method='post'>
                    {{ form.entry_id(value=food.id) }} {{ form.hidden_tag() }}
                    <button type="submit" class="btn btn-light custom_buttons" name="action" value="remove">
                        <i style="color:red" class="fa fa-remove fa-lg"></i>
                    </button>
                </form>
            </td>
        </tr>
        {% endif %} {% endfor %}
        <tr class="active">
            <td class="text-right hidden-xs">Meal Totals</td>
            <td class="text-center hidden-xs"></td>
            <td class="text-center hidden-xs">{{ total_cals['Lunch'] }}</td>
            <td class="text-center hidden-xs">{{ total_protein['Lunch'] }}</td>
            <td class="text-center hidden-xs">{{ total_fat['Lunch'] }}</td>
            <td class="text-center hidden-xs">{{ total_carbs['Lunch'] }}</td>
        </tr>
    </table>

    <br/>

    <table class="table table-condensed table-bordered">
        <thead>
            <tr>
                <th class="col-xs-6">Dinner |
                    <a href="{{ url_for('search', date=date_pick, meal='Dinner') }}">Add food.</a>
                </th>
                <th class="text-center col-sm-1 col-xs-2">Count</th>
                <th class="text-center col-sm-1 col-xs-2">kcal</th>
                <th class="text-center hidden-xs col-sm-1">Protein</th>
                <th class="text-center hidden-xs col-sm-1">Fat</th>
                <th class="text-center hidden-xs col-sm-1">Carbs</th>
                <th class="text-center col-sm-1 col-xs-2">Remove</th>
            </tr>
        </thead>
        {% for food in foods %} {% if food.meal == "Dinner" %}
        <tr>
            <td>
                <a href="{{ url_for('get_nutrition', ndbno=food.ndbno) }}">{{ food.food_name + ", " + food.unit }}</a>
            </td>
            <td class="text-center">{{ food.count }}</td>
            <td class="text-center">{{ food.kcal }}</td>
            <td class="text-center hidden-xs">{{ food.protein }}</td>
            <td class="text-center hidden-xs">{{ food.fat }}</td>
            <td class="text-center hidden-xs">{{ food.carbs }}</td>
            <td class="text-center">
                <form method='post'>
                    {{ form.entry_id(value=food.id) }} {{ form.hidden_tag() }}
                    <button type="submit" class="btn btn-light custom_buttons" name="action" value="remove">
                        <i style="color:red" class="fa fa-remove fa-lg"></i>
                    </button>
                </form>
            </td>
        </tr>
        {% endif %} {% endfor %}
        <tr class="active">
            <td class="text-right hidden-xs">Meal Totals</td>
            <td class="text-center hidden-xs"></td>
            <td class="text-center hidden-xs">{{ total_cals['Dinner'] }}</td>
            <td class="text-center hidden-xs">{{ total_protein['Dinner'] }}</td>
            <td class="text-center hidden-xs">{{ total_fat['Dinner'] }}</td>
            <td class="text-center hidden-xs">{{ total_carbs['Dinner'] }}</td>
        </tr>
    </table>

    <br/>

    <table class="table table-condensed table-bordered">
        <thead>
            <tr>
                <th class="col-xs-6">Snacks |
                    <a href="{{ url_for('search', date=date_pick, meal='Snacks') }}">Add food.</a>
                </th>
                <th class="text-center col-sm-1 col-xs-2">Count</th>
                <th class="text-center col-sm-1 col-xs-2">kcal</th>
                <th class="text-center hidden-xs col-sm-1">Protein</th>
                <th class="text-center hidden-xs col-sm-1">Fat</th>
                <th class="text-center hidden-xs col-sm-1">Carbs</th>
                <th class="text-center col-sm-1 col-xs-2">Remove</th>
            </tr>
        </thead>
        {% for food in foods %} {% if food.meal == "Snacks" %}
        <tr>
            <td>
                <a href="{{ url_for('get_nutrition', ndbno=food.ndbno) }}">{{ food.food_name + ", " + food.unit }}</a>
            </td>
            <td class="text-center">{{ food.count }}</td>
            <td class="text-center">{{ food.kcal }}</td>
            <td class="text-center hidden-xs">{{ food.protein }}</td>
            <td class="text-center hidden-xs">{{ food.fat }}</td>
            <td class="text-center hidden-xs">{{ food.carbs }}</td>
            <td class="text-center">
                <form method='post'>
                    {{ form.entry_id(value=food.id) }} {{ form.hidden_tag() }}
                    <button type="submit" class="btn btn-light custom_buttons" name="action" value="remove">
                        <i style="color:red" class="fa fa-remove fa-lg"></i>
                    </button>
                </form>
            </td>
        </tr>
        {% endif %} {% endfor %}
        <tr class="active">
            <td class="text-right hidden-xs">Meal Totals</td>
            <td class="text-center hidden-xs"></td>
            <td class="text-center hidden-xs">{{ total_cals['Snacks'] }}</td>
            <td class="text-center hidden-xs">{{ total_protein['Snacks'] }}</td>
            <td class="text-center hidden-xs">{{ total_fat['Snacks'] }}</td>
            <td class="text-center hidden-xs">{{ total_carbs['Snacks'] }}</td>
        </tr>
    </table>

    <br/>
    <div style="padding: 0px" class="col-sm-6 col-sm-offset-5">
        <table class="table table-condensed table-bordered">
            <thead>
                <tr class="active">
                    <th class="text-right col-sm-4">Totals</th>
                    <th class="text-center col-sm-2">kcal</th>
                    <th class="text-center col-sm-2">Protein</th>
                    <th class="text-center col-sm-2">Fat</th>
                    <th class="text-center col-sm-2">Carbs</th>
                </tr>
            </thead>
            <tr>
                <td class="text-right">Start Macros</td>
                <td class="text-center">{{ user.calories_goal }}</td>
                <td class="text-center">{{ user.protein_grams }}</td>
                <td class="text-center">{{ user.fat_grams }}</td>
                <td class="text-center">{{ user.carbs_grams }}</td>
            </tr>
            <tr>
                <td class="text-right">Consumed</td>
                <td class="text-center">{{ total_cals['total'] }}</td>
                <td class="text-center">{{ total_protein['total'] }}</td>
                <td class="text-center">{{ total_fat['total'] }}</td>
                <td class="text-center">{{ total_carbs['total'] }}</td>
            </tr>
            <tr>
                <td class="text-right">Remaining</td>
                <td class="text-center">{{ user.calories_goal - total_cals['total'] }}</td>
                <td class="text-center">{{ user.protein_grams - total_protein['total'] }}</td>
                <td class="text-center">{{ user.fat_grams - total_fat['total'] }}</td>
                <td class="text-center">{{ user.carbs_grams - total_carbs['total'] }}</td>
            </tr>
        </table>
    </div>
</div>
{% endblock %}